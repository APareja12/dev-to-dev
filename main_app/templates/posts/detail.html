{% extends 'base.html' %}

{% block content %}

<div class="row">
  <div class="col s12 grey">
  <div class="col s12 green z-depth-2">
  {{ post.title }}
    </div>
  </div>
  <div class="col s8 teal z-depth-2">
  {{ post.description }}
  posted by: {{ post.user }}
  <a class="white" href="{% url 'posts_update' topic_id post.id %}">Update Post</a>
  <a class="white" href="{% url 'posts_delete' topic_id post.id %}">Delete Post</a>
</div>
</div>
<div class="card">
  <form action="{% url 'comments_create' topic_id post.id %}" method="post">
    {% csrf_token %}
    {{ comment_form.as_p }}
    <input class="btn indigo" type="submit" value="Add Comment">
  </form>
  {% for comment in post.comment_set.all %}
    <div class="card-content">
        {{ comment.content }}
        commented by: {{ comment.user }}
        <a href="{% url 'comments_update' topic_id post.id comment.id %}">Update Comment</a>
        <a href="{% url 'comments_delete' topic_id post.id comment.id %}">Delete Comment</a>
    </div>
  {% endfor %}
</div>

{% endblock %}

